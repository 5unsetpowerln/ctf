import bs4
import time
import requests

url = "https://hacker-typer.tuctf.com/"
session = requests.Session()

iresp = session.get(url=url)
soup = bs4.BeautifulSoup(iresp.text, "html.parser")
next_word = soup.find("strong", attrs={'name': 'word-title'}).text
speed = ""
status = ""
streak = 0

while True:
    data = {"word": next_word}
    resp = session.post(url=url + "check_word", data=data).json()
    next_word = resp.get("next_word")
    streak = resp.get("streak")
    status = resp.get("status")
    
    print(resp)
    
    if status == "Invalid UUID":
        print(session.get(url=url).text)
        break

    if type(streak) == int and streak > 999:
        break
    time.sleep(0.1)

fresp = session.get(url=url)
print(fresp.text)
